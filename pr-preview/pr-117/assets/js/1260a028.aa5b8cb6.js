"use strict";(self.webpackChunk_map_colonies_developer_portal=self.webpackChunk_map_colonies_developer_portal||[]).push([[5909],{84349:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>i,toc:()=>d});var t=s(74848),r=s(28453);const o={sidebar_position:3,id:"osm-nominatim-address",slug:"Osm-AddressLookup-API",title:"Address Lookup API",tags:["osm","search","API","lookup","nominatim"]},a="Address lookup",i={id:"MapColonies/openstreetmap/nominatim/osm-nominatim-address",title:"Address Lookup API",description:"The lookup API allows to query the address and other details of one or",source:"@site/docs/MapColonies/openstreetmap/nominatim/lookup.md",sourceDirName:"MapColonies/openstreetmap/nominatim",slug:"/MapColonies/openstreetmap/nominatim/Osm-AddressLookup-API",permalink:"/developer-portal/pr-preview/pr-117/docs/MapColonies/openstreetmap/nominatim/Osm-AddressLookup-API",draft:!1,unlisted:!1,editUrl:"https://github.com/MapColonies/developer-portal/tree/main/packages/create-docusaurus/templates/shared/docs/MapColonies/openstreetmap/nominatim/lookup.md",tags:[{inline:!0,label:"osm",permalink:"/developer-portal/pr-preview/pr-117/docs/tags/osm"},{inline:!0,label:"search",permalink:"/developer-portal/pr-preview/pr-117/docs/tags/search"},{inline:!0,label:"API",permalink:"/developer-portal/pr-preview/pr-117/docs/tags/api"},{inline:!0,label:"lookup",permalink:"/developer-portal/pr-preview/pr-117/docs/tags/lookup"},{inline:!0,label:"nominatim",permalink:"/developer-portal/pr-preview/pr-117/docs/tags/nominatim"}],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,id:"osm-nominatim-address",slug:"Osm-AddressLookup-API",title:"Address Lookup API",tags:["osm","search","API","lookup","nominatim"]},sidebar:"docSidebar",previous:{title:"Reverse GeoCoding API",permalink:"/developer-portal/pr-preview/pr-117/docs/MapColonies/openstreetmap/nominatim/Osm-Reverse-Search-API"},next:{title:"Output Formats",permalink:"/developer-portal/pr-preview/pr-117/docs/MapColonies/openstreetmap/nominatim/Osm-output-API"}},l={},d=[{value:"Parameters",id:"parameters",level:2},{value:"Output format",id:"output-format",level:3},{value:"Output details",id:"output-details",level:3},{value:"Language of results",id:"language-of-results",level:3},{value:"Polygon output",id:"polygon-output",level:3},{value:"Other",id:"other",level:3},{value:"Examples",id:"examples",level:2},{value:"XML",id:"xml",level:5},{value:"JSON with extratags",id:"json-with-extratags",level:5}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h5:"h5",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"address-lookup",children:"Address lookup"})}),"\n",(0,t.jsx)(n.p,{children:"The lookup API allows to query the address and other details of one or\nmultiple OSM objects like node, way or relation."}),"\n",(0,t.jsx)(n.h2,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(n.p,{children:"The lookup API has the following format:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"  <VECTOR-NOMINATIM-SERVICE_URL>/lookup?osm_ids=[N|W|R]<value>,\u2026,\u2026,&<params>\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"osm_ids"})," is mandatory and must contain a comma-separated list of OSM ids each\nprefixed with its type, one of node(N), way(W) or relation(R). Up to 50 ids\ncan be queried at the same time."]}),"\n",(0,t.jsx)(n.p,{children:"Additional optional parameters are explained below."}),"\n",(0,t.jsx)(n.h3,{id:"output-format",children:"Output format"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"format=[xml|json|jsonv2|geojson|geocodejson]"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["See ",(0,t.jsx)(n.a,{href:"/docs/MapColonies/openstreetmap/nominatim/Osm-output-API",children:"Place Output Formats"})," for details on each format. (Default: xml)"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"json_callback=<string>"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Wrap JSON output in a callback function (JSONP) i.e. ",(0,t.jsx)(n.code,{children:"<string>(<json>)"}),".\nOnly has an effect for JSON output formats."]}),"\n",(0,t.jsx)(n.h3,{id:"output-details",children:"Output details"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"addressdetails=[0|1]"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Include a breakdown of the address into elements. (Default: 0)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"extratags=[0|1]"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Include additional information in the result if available,\ne.g. wikipedia link, opening hours. (Default: 0)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"namedetails=[0|1]"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Include a list of alternative names in the results. These may include\nlanguage variants, references, operator and brand. (Default: 0)"}),"\n",(0,t.jsx)(n.h3,{id:"language-of-results",children:"Language of results"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"accept-language=<browser language string>"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:'Preferred language order for showing search results, overrides the value\nspecified in the "Accept-Language" HTTP header.\nEither use a standard RFC2616 accept-language string or a simple\ncomma-separated list of language codes.'}),"\n",(0,t.jsx)(n.h3,{id:"polygon-output",children:"Polygon output"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"polygon_geojson=1"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"polygon_kml=1"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"polygon_svg=1"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"polygon_text=1"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Output geometry of results as a GeoJSON, KML, SVG or WKT. Only one of these\noptions can be used at a time. (Default: 0)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"polygon_threshold=0.0"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Return a simplified version of the output geometry. The parameter is the\ntolerance in degrees with which the geometry may differ from the original\ngeometry. Topology is preserved in the result. (Default: 0.0)"}),"\n",(0,t.jsx)(n.h3,{id:"other",children:"Other"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"email=<valid email address>"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"If you are making large numbers of request please include an appropriate email\naddress to identify your requests (only relevant when using the service in the internet)."}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"debug=[0|1]"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:'Output assorted developer debug information. Data on internals of Nominatim\'s\n"Search Loop" logic, and SQL queries. The output is (rough) HTML format.\nThis overrides the specified machine readable format. (Default: 0)'}),"\n",(0,t.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,t.jsx)(n.h5,{id:"xml",children:"XML"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"%3CVECTOR-NOMINATIM-SERVICE_URL%3E/lookup?osm_ids=R7116646,W551414758,N4976386821",children:"<VECTOR-NOMINATIM-SERVICE_URL>/lookup?osm_ids=R7116646,W551414758,N4976386821"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",metastring:'title="Lookup Results in XML Format"',children:'  <lookupresults timestamp="Tue, 24 Jan 23 06:41:19 +0000"\n    attribution="Data \xa9 OpenStreetMap contributors, ODbL 1.0. http://www.openstreetmap.org/copyright"\n    querystring="R7116646,W551414758,N4976386821" more_url="">\n    <place place_id="308733271" osm_type="relation" osm_id="7116646" place_rank="30" address_rank="30"\n      boundingbox="31.7805304,31.7816054,35.2033623,35.2046501" lat="31.78107505"\n      lon="35.20375223509767"\n      display_name="Supreme Court of Israel, Rotschild, Kiryat HaMemshalah, Jerusalem, Jerusalem Subdistrict, Jerusalem District, 9432301, Israel"\n      class="amenity" type="courthouse" importance="0.24232784765904">\n      <amenity>Supreme Court of Israel</amenity>\n      <road>Rotschild</road>\n      <suburb>Kiryat HaMemshalah</suburb>\n      <city>Jerusalem</city>\n      <state_district>Jerusalem Subdistrict</state_district>\n      <state>Jerusalem District</state>\n      <ISO3166-2-lvl4>IL-JM</ISO3166-2-lvl4>\n      <postcode>9432301</postcode>\n      <country>Israel</country>\n      <country_code>il</country_code>\n    </place>\n    <place place_id="222933834" osm_type="way" osm_id="551414758" place_rank="30" address_rank="30"\n      boundingbox="31.7760076,31.776938,35.2048741,35.2059629" lat="31.776474049999997"\n      lon="35.20538295033272"\n      display_name="Knesset, Berman Square, Kiryat HaMemshalah, Jerusalem, Jerusalem Subdistrict, Jerusalem District, 9107202, Israel"\n      class="office" type="government" importance="0.34176259084946">\n      <office>Knesset</office>\n      <road>Berman Square</road>\n      <suburb>Kiryat HaMemshalah</suburb>\n      <city>Jerusalem</city>\n      <state_district>Jerusalem Subdistrict</state_district>\n      <state>Jerusalem District</state>\n      <ISO3166-2-lvl4>IL-JM</ISO3166-2-lvl4>\n      <postcode>9107202</postcode>\n      <country>Israel</country>\n      <country_code>il</country_code>\n    </place>\n    <place place_id="55796886" osm_type="node" osm_id="4976386821" place_rank="30" address_rank="30"\n      boundingbox="32.0695874,32.0696874,34.7845255,34.7846255" lat="32.0696374" lon="34.7845755"\n      display_name="Lehamim, 103, HaHashmonaim, Sarona Gardens, Tel Aviv, Bitsaron, Tel Aviv-Yafo, Tel Aviv Subdistrict, Tel Aviv District, 6713203, Israel"\n      class="shop" type="bakery" importance="9.9999999999545E-6">\n      <shop>Lehamim</shop>\n      <house_number>103</house_number>\n      <road>HaHashmonaim</road>\n      <suburb>Bitsaron</suburb>\n      <residential>Tel Aviv</residential>\n      <city>Tel Aviv-Yafo</city>\n      <state_district>Tel Aviv Subdistrict</state_district>\n      <state>Tel Aviv District</state>\n      <ISO3166-2-lvl4>IL-TA</ISO3166-2-lvl4>\n      <postcode>6713203</postcode>\n      <country>Israel</country>\n      <country_code>il</country_code>\n    </place>\n  </lookupresults>\n'})}),"\n",(0,t.jsx)(n.h5,{id:"json-with-extratags",children:"JSON with extratags"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"/details.html?osmtype=W&osmid=44296789"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title="Lookup Results in JSON Format"',children:'[\n    {\n        "place_id": 119518296,\n        "licence": "Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright",\n        "osm_type": "way",\n        "osm_id": 44296789,\n        "boundingbox": [\n            "31.7775552",\n            "31.777817",\n            "35.2019221",\n            "35.203181"\n        ],\n        "lat": "31.777682300000002",\n        "lon": "35.202551594501585",\n        "display_name": "Ministry of Finance, Rupin, Kiryat HaMemshalah, Jerusalem, Jerusalem Subdistrict, Jerusalem District, 9218812, Israel",\n        "class": "office",\n        "type": "government",\n        "importance": 0.4438713827293206,\n        "address": {\n            "office": "Ministry of Finance",\n            "road": "Rupin",\n            "suburb": "Kiryat HaMemshalah",\n            "city": "Jerusalem",\n            "state_district": "Jerusalem Subdistrict",\n            "state": "Jerusalem District",\n            "ISO3166-2-lvl4": "IL-JM",\n            "postcode": "9218812",\n            "country": "Israel",\n            "country_code": "il"\n        },\n        "extratags": {\n            "wikidata": "Q1707870",\n            "government": "ministry",\n            "building:levels": "7"\n        }\n    }\n]\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>i});var t=s(96540);const r={},o=t.createContext(r);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);