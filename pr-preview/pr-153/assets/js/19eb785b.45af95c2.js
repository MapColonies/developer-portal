"use strict";(self.webpackChunk_map_colonies_developer_portal=self.webpackChunk_map_colonies_developer_portal||[]).push([[7264],{93939:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>l});var r=t(74848),s=t(28453);const o={id:"raster-layer-parts-service",slug:"layer-parts",title:"Layer Parts \ud83e\udde9",description:"Search, Filter and Aggregate layer parts (vectorial) layers",tags:["wfs","raster","features","API","layer-parts"]},a="Layer Parts Service \ud83e\udde9",i={id:"MapColonies/Raster/services/LayerParts/raster-layer-parts-service",title:"Layer Parts \ud83e\udde9",description:"Search, Filter and Aggregate layer parts (vectorial) layers",source:"@site/docs/MapColonies/Raster/services/LayerParts/README.md",sourceDirName:"MapColonies/Raster/services/LayerParts",slug:"/MapColonies/Raster/services/LayerParts/layer-parts",permalink:"/developer-portal/pr-preview/pr-153/docs/MapColonies/Raster/services/LayerParts/layer-parts",draft:!1,unlisted:!1,editUrl:"https://github.com/MapColonies/developer-portal/tree/main/packages/create-docusaurus/templates/shared/docs/MapColonies/Raster/services/LayerParts/README.md",tags:[{inline:!0,label:"wfs",permalink:"/developer-portal/pr-preview/pr-153/docs/tags/wfs"},{inline:!0,label:"raster",permalink:"/developer-portal/pr-preview/pr-153/docs/tags/raster"},{inline:!0,label:"features",permalink:"/developer-portal/pr-preview/pr-153/docs/tags/features"},{inline:!0,label:"API",permalink:"/developer-portal/pr-preview/pr-153/docs/tags/api"},{inline:!0,label:"layer-parts",permalink:"/developer-portal/pr-preview/pr-153/docs/tags/layer-parts"}],version:"current",frontMatter:{id:"raster-layer-parts-service",slug:"layer-parts",title:"Layer Parts \ud83e\udde9",description:"Search, Filter and Aggregate layer parts (vectorial) layers",tags:["wfs","raster","features","API","layer-parts"]},sidebar:"docSidebar",previous:{title:"Services",permalink:"/developer-portal/pr-preview/pr-153/docs/category/services"},next:{title:"Profile v1",permalink:"/developer-portal/pr-preview/pr-153/docs/MapColonies/Raster/services/LayerParts/layer-parts-profile-v1"}},c={},l=[{value:"General",id:"general",level:2},{value:"Understanding Layer Parts on Layer (records) management - Updates",id:"understanding-layer-parts-on-layer-records-management---updates",level:3},{value:"Polygons",id:"polygons",level:3},{value:"Layers",id:"layers",level:3},{value:"WFS implementation",id:"wfs-implementation",level:3},{value:"Overview",id:"overview",level:2},{value:"The typeNames Convention",id:"the-typenames-convention",level:3},{value:"GetCapabilities",id:"getcapabilities",level:2},{value:"List WFS capabilities and find available FeaturesTypes",id:"list-wfs-capabilities-and-find-available-featurestypes",level:3},{value:"DescribeFeatureType",id:"describefeaturetype",level:2},{value:"Explore featureType &#39;ORTHOPHOTO_BEST-OrthophotoBest&#39; layer",id:"explore-featuretype-orthophoto_best-orthophotobest-layer",level:3},{value:"GetFeature",id:"getfeature",level:2},{value:"Limit response feature count",id:"limit-response-feature-count",level:3},{value:"Pagination",id:"pagination",level:3},{value:"Sorting",id:"sorting",level:3},{value:"Query by geographical limits",id:"query-by-geographical-limits",level:3},{value:"Combining multiple filters",id:"combining-multiple-filters",level:3},{value:"Get feature count",id:"get-feature-count",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:o}=n;return o||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"layer-parts-service-",children:"Layer Parts Service \ud83e\udde9"})}),"\n",(0,r.jsx)(n.h2,{id:"general",children:"General"}),"\n",(0,r.jsx)(n.h3,{id:"understanding-layer-parts-on-layer-records-management---updates",children:"Understanding Layer Parts on Layer (records) management - Updates"}),"\n",(0,r.jsx)(n.p,{children:"This system utilizes polygons and layers to represent the precise area of a product and track all updates received over time. Polygons define the exact boundaries, while layers provide a structured way to integrate these updates. Let's delve deeper into how this system functions."}),"\n",(0,r.jsx)(n.h3,{id:"polygons",children:"Polygons"}),"\n",(0,r.jsx)(n.p,{children:"Represent the precise area of a product and all its subsequent updates.\nContain additional metadata like update date, accuracy, and photo sensor information."}),"\n",(0,r.jsx)(n.h3,{id:"layers",children:"Layers"}),"\n",(0,r.jsx)(n.p,{children:"Composed of continuous geographic regions defined by several polygons.\nEach polygon holds its own metadata.\nUpdates are merged with overlapping layers below.\nPolygons within existing layers that overlap the new update (completely or partially) are re-calculated."}),"\n",(0,r.jsx)("figure",{children:(0,r.jsx)("img",{src:t(26089).A,style:{display:"block",marginLeft:"auto",marginRight:"auto"}})}),"\n",(0,r.jsx)(n.admonition,{title:"Practical Example",type:"important",children:(0,r.jsxs)(n.p,{children:["B is a new layer containing 3 layer parts about to be merged into an existing layer.\nAs you can see in the \u201cAfter\u201d figure on the right, the new layer parts contains the merged layer parts of A and B.\nEach part hold its own metadata and related attributes ",(0,r.jsx)(n.a,{href:"/developer-portal/pr-preview/pr-153/docs/MapColonies/Raster/services/LayerParts/layer-parts-profile-v1",children:"LayerParts attributes"})]})}),"\n",(0,r.jsx)(n.h3,{id:"wfs-implementation",children:"WFS implementation"}),"\n",(0,r.jsxs)(n.p,{children:["Raster layer parts service uses the ",(0,r.jsx)(n.a,{href:"/docs/ogc/protocols/ogc-wfs",children:"WFS"})," protocol which is a ",(0,r.jsx)(n.strong,{children:"READ-ONLY"})," Web Feature Service.\nit provides facilities for searching and retrieving feature data with the ",(0,r.jsx)(n.code,{children:"GetCapabilities"}),", ",(0,r.jsx)(n.code,{children:"DescribeFeatureType"})," and ",(0,r.jsx)(n.code,{children:"GetFeature"})," operations all other operations are invalid."]}),"\n",(0,r.jsxs)(n.p,{children:["For the full capabilities provided by the service see ",(0,r.jsx)(n.a,{href:"/docs/ogc/protocols/ogc-wfs#getcapabilities",children:"GetCapabilities"})]}),"\n",(0,r.jsxs)(n.p,{children:["WFS partitions the queryable data into feature types each feature type has its own attributes describing the structure of the data itself.\nFor the description of a feature type see ",(0,r.jsx)(n.a,{href:"/docs/ogc/protocols/ogc-wfs#describefeaturetype",children:"DescribeFeatureType"})]}),"\n",(0,r.jsxs)(n.p,{children:["Finally, Features can be retrieved with the ",(0,r.jsx)(n.a,{href:"/docs/ogc/protocols/ogc-wfs#getfeature",children:"GetFeature"})," operation. the request returns a collection of geographic feature instances filtered according to a criteria set by the requesting client."]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(n.admonition,{type:"important",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"In layer parts, each feature represents a single polygon"})})}),"\n",(0,r.jsx)(n.admonition,{title:"Authentication",type:"warning",children:(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Authentication must be integrated in order to communicate with Map and Catalog services."}),(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.strong,{children:["See the principles ",(0,r.jsx)(n.a,{href:"/docs/MapColonies/authentication",children:"here"})]})]})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsxs)(n.p,{children:["WFS protocol partitions the queryable features into different feature types.\nEach feature types actually represent other catalog layer ",(0,r.jsx)(n.a,{href:"/docs/MapColonies/Raster/services/catalog/raster-catalog-profile-v1",children:"Raster Catalog"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Each feature type consists of same layer parts schema describing the feature. the feature type is queryable by its schema, each feature type has a default coordinate reference system and the bounding box which contains all features of this type, those are also possible parameters for querying."}),"\n",(0,r.jsx)(n.p,{children:"Let's see an example using all three operations with different filters, the following chart describes our work flow"}),"\n",(0,r.jsx)(n.mermaid,{value:"flowchart LR\nA{Get Auth Token} --\x3e|token| B[GetCapabilities]\n    subgraph WFS\n      direction LR\n        B --\x3e|FeatureTypeList| C{Select Feature}\n        C --\x3e|feature| D[DescribeFeatureType]\n        D --\x3e|schema| E{Build Your Filter}\n        E --\x3e|filter| F[GetFeature]\n        F --\x3eG((filtered features))\n    end"}),"\n",(0,r.jsx)(n.h3,{id:"the-typenames-convention",children:"The typeNames Convention"}),"\n",(0,r.jsx)(n.p,{children:"Each typeName represent a Layer from the catalog. The name string includes several parts as in the layer conventions:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"<productId>-<productType>\n"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"productId"})," represent a layer's product id, for example: ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_MOSAIC_BASE"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"productType"})," represent layer's product type, for example: ",(0,r.jsx)(n.code,{children:"OrthophotoBest"})]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["So, for our example, the feature type name will be: ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_MOSAIC_BASE-OrthophotoBest"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"getcapabilities",children:"GetCapabilities"}),"\n",(0,r.jsx)(n.h3,{id:"list-wfs-capabilities-and-find-available-featurestypes",children:"List WFS capabilities and find available FeaturesTypes"}),"\n",(0,r.jsxs)(n.p,{children:["To list all the available feature types use the ",(0,r.jsx)(n.code,{children:"GetCapabilities"})," operation and look for the ",(0,r.jsx)(n.code,{children:"FeatureTypeList"})," section."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"<LAYER_PARTS_QUERY_SERVICE_URL>/wfs?\n    service=wfs&\n    version=2.0.0&\n    request=GetCapabilities\n"})}),"\n",(0,r.jsxs)(o,{children:[(0,r.jsx)("summary",{children:"Response"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="Response"',children:'<FeatureTypeList>\n        <FeatureType xmlns:layerParts="http://layerParts">\n            <Name>layerParts:ORTHOPHOTO_BEST-OrthophotoBest</Name>\n            <Title>orthophoto_best_orthophotobest</Title>\n            <Abstract/>\n            <ows:Keywords>\n                <ows:Keyword>features</ows:Keyword>\n                <ows:Keyword>orthophoto_best_orthophotobest</ows:Keyword>\n            </ows:Keywords>\n            <DefaultCRS>urn:ogc:def:crs:EPSG::4326</DefaultCRS>\n            <ows:WGS84BoundingBox>\n                <ows:LowerCorner>-180.0 -90.0</ows:LowerCorner>\n                <ows:UpperCorner>180.0 90.0</ows:UpperCorner>\n            </ows:WGS84BoundingBox>\n        </FeatureType>\n</FeatureTypeList>\n'})})]}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.p,{children:["We got a ",(0,r.jsx)(n.code,{children:"FeatureTypeList"})," consisting of the different ",(0,r.jsx)(n.code,{children:"FeatureTypes"})," that each one hold and represent some catalog layer under the WFS service. one of them is the ",(0,r.jsx)(n.code,{children:"layerParts:ORTHOPHOTO_BEST-OrthophotoBest"}),".",(0,r.jsx)(n.code,{children:"FeatureType"})," where layerParts is the namespace and the ORTHOPHOTO_BEST-OrthophotoBest is the unique ",(0,r.jsx)(n.code,{children:"FeatureType"})," name under the layerParts namespace - it include layer's ",(0,r.jsx)(n.code,{children:"productId"})," + ",(0,r.jsx)(n.code,{children:"productType"}),". it is possible to query the FeatureType by its full name ",(0,r.jsx)(n.code,{children:"layerPartss:ORTHOPHOTO_BEST-OrthophotoBest"})," or short unique name ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_BEST-OrthophotoBest"}),".\nThe default coordinate reference system and the containing features bounding box are also presented."]}),"\n",(0,r.jsx)(n.h2,{id:"describefeaturetype",children:"DescribeFeatureType"}),"\n",(0,r.jsx)(n.h3,{id:"explore-featuretype-orthophoto_best-orthophotobest-layer",children:"Explore featureType 'ORTHOPHOTO_BEST-OrthophotoBest' layer"}),"\n",(0,r.jsxs)(n.p,{children:["If you would like to view the schema of the ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_BEST-OrthophotoBest"})," ",(0,r.jsx)(n.code,{children:"FeatureType"}),", we could invoke the ",(0,r.jsx)(n.code,{children:"DescribeFeatureType"})," request with ",(0,r.jsx)(n.code,{children:"typeName"})," of ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_BEST-OrthophotoBest"})]}),"\n",(0,r.jsxs)(n.p,{children:["The response is the XSD (in xml response) describing the ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_BEST-OrthophotoBest"})," ",(0,r.jsx)(n.code,{children:"FeatureType"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["For convenience we'll add ",(0,r.jsx)(n.code,{children:"outputFormat"})," parameter as ",(0,r.jsx)(n.code,{children:"application/json"})," to each of our requests for a json formatted response"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"<LAYER_PARTS_QUERY_SERVICE_URL>/wfs?\n    service=wfs&\n    version=2.0.0&\n    request=DescribeFeatureType&\n    typeName=ORTHOPHOTO_BEST-OrthophotoBest&\n    outputFormat=application/json\n"})}),"\n",(0,r.jsxs)(o,{children:[(0,r.jsx)("summary",{children:"Response"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "elementFormDefault": "qualified",\n    "targetNamespace": "http://layerParts",\n    "targetPrefix": "layerParts",\n    "featureTypes": [\n        {\n            "typeName": "ORTHOPHOTO_BEST-OrthophotoBest",\n            "properties": [\n                {\n                    "name": "id",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "catalogId",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "productId",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "productType",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "sourceId",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "sourceName",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "productVersion",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "ingestionDateUtc",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:date-time",\n                    "localType": "date-time"\n                },\n                {\n                    "name": "imagingTimeBeginUtc",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:date-time",\n                    "localType": "date-time"\n                },\n                {\n                    "name": "imagingTimeEndUtc",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:date-time",\n                    "localType": "date-time"\n                },\n                {\n                    "name": "resolutionDegree",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:number",\n                    "localType": "number"\n                },\n                {\n                    "name": "resolutionMeter",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:number",\n                    "localType": "number"\n                },\n                {\n                    "name": "sourceResolutionMeter",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:number",\n                    "localType": "number"\n                },\n                {\n                    "name": "horizontalAccuracyCe90",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:number",\n                    "localType": "number"\n                },\n                {\n                    "name": "sensors",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "countries",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "cities",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "description",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "xsd:string",\n                    "localType": "string"\n                },\n                {\n                    "name": "footprint",\n                    "maxOccurs": 1,\n                    "minOccurs": 0,\n                    "nillable": true,\n                    "type": "gml:Polygon",\n                    "localType": "Polygon"\n                }\n            ]\n        }\n    ]\n}\n'})})]}),"\n",(0,r.jsxs)(n.p,{children:["This is a description of a ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_BEST-OrthophotoBest"})," feature that include all layer parts of the ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_BEST-OrthophotoBest"})," catalog layer, it contains these properties. Each property has its own type, nillable flag value and min\\max occurs."]}),"\n",(0,r.jsx)(n.h2,{id:"getfeature",children:"GetFeature"}),"\n",(0,r.jsxs)(n.p,{children:["Now that we hold the structure of the ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_BEST-OrthophotoBest"})," FeatureType we're able to query layer's layer parts features by a set of parameters using the ",(0,r.jsx)(n.code,{children:"GetFeature"})," operation, let's see some examples:"]}),"\n",(0,r.jsx)(n.h3,{id:"limit-response-feature-count",children:"Limit response feature count"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["let's retrieve 2 of layer parts for provided featureType ",(0,r.jsx)(n.code,{children:"ORTHOPHOTO_BEST-OrthophotoBest"}),", that include actually total of 4 features using GET request:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"<LAYER_PARTS_QUERY_SERVICE_URL>/wfs?\n    service=wfs&\n    version=2.0.0&\n    request=GetFeature&\n    count=2&\n    typeName=ORTHOPHOTO_BEST-OrthophotoBest&\n    outputFormat=application/json\n"})}),"\n",(0,r.jsxs)(o,{children:[(0,r.jsx)("summary",{children:"Response"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "type": "FeatureCollection",\n    "features": [\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.30210f5d-ba98-480f-b13a-01705890eb8f",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            -180,\n                            90\n                        ],\n                        [\n                            180,\n                            90\n                        ],\n                        [\n                            180,\n                            -90\n                        ],\n                        [\n                            -180,\n                            -90\n                        ],\n                        [\n                            -180,\n                            90\n                        ]\n                    ],\n                    [\n                        [\n                            34.2117,\n                            31.4159\n                        ],\n                        [\n                            34.2117,\n                            31.2279\n                        ],\n                        [\n                            34.4294,\n                            31.2279\n                        ],\n                        [\n                            34.4294,\n                            31.4159\n                        ],\n                        [\n                            34.2117,\n                            31.4159\n                        ]\n                    ],\n                    [\n                        [\n                            34.6064,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.6234\n                        ]\n                    ],\n                    [\n                        [\n                            35.0607,\n                            32.1202\n                        ],\n                        [\n                            35.0607,\n                            31.9323\n                        ],\n                        [\n                            35.2784,\n                            31.9323\n                        ],\n                        [\n                            35.2784,\n                            32.1202\n                        ],\n                        [\n                            35.0607,\n                            32.1202\n                        ]\n                    ],\n                    [\n                        [\n                            35.1511,\n                            32.1381\n                        ],\n                        [\n                            35.3664,\n                            32.1381\n                        ],\n                        [\n                            35.3664,\n                            32.3249\n                        ],\n                        [\n                            35.1511,\n                            32.3249\n                        ],\n                        [\n                            35.1511,\n                            32.1381\n                        ]\n                    ],\n                    [\n                        [\n                            35.6989,\n                            33.7644\n                        ],\n                        [\n                            35.6989,\n                            33.5765\n                        ],\n                        [\n                            35.9166,\n                            33.5765\n                        ],\n                        [\n                            35.9166,\n                            33.7644\n                        ],\n                        [\n                            35.6989,\n                            33.7644\n                        ]\n                    ],\n                    [\n                        [\n                            35.7645,\n                            33.9586\n                        ],\n                        [\n                            35.7645,\n                            33.7706\n                        ],\n                        [\n                            35.9822,\n                            33.7706\n                        ],\n                        [\n                            35.9822,\n                            33.9586\n                        ],\n                        [\n                            35.7645,\n                            33.9586\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "30210f5d-ba98-480f-b13a-01705890eb8f",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "BlueMarble",\n                "sourceName": "O_BlueMarble_rgb_2km",\n                "productVersion": "1.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2001-01-01T05:00:00Z",\n                "imagingTimeEndUtc": "2001-01-01T05:00:00Z",\n                "resolutionDegree": 0.02197265625,\n                "resolutionMeter": 2000,\n                "sourceResolutionMeter": 2500,\n                "horizontalAccuracyCe90": 2000,\n                "sensors": "MAXAR",\n                "countries": "ITALY",\n                "cities": "",\n                "description": ""\n            },\n            "bbox": [\n                -180,\n                -90,\n                180,\n                90\n            ]\n        },\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.d8017862-26a8-4747-a503-2096ffaf36ee",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            34.3887,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.4354\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "d8017862-26a8-4747-a503-2096ffaf36ee",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_6_ORT_247568-26.0",\n                "sourceName": "O_aza_w84geo_Tiff_10cm",\n                "productVersion": "2.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2022-08-20T23:08:10Z",\n                "imagingTimeEndUtc": "2022-08-20T23:08:10Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.6,\n                "sourceResolutionMeter": 0.1,\n                "horizontalAccuracyCe90": 1.5,\n                "sensors": "OTHER",\n                "countries": "ICELAND",\n                "cities": "",\n                "description": "some description"\n            },\n            "bbox": [\n                34.3887,\n                31.4354,\n                34.6064,\n                31.6234\n            ]\n        }\n    ],\n    "totalFeatures": 7,\n    "numberMatched": 7,\n    "numberReturned": 2,\n    "timeStamp": "2024-11-12T11:28:53.799Z",\n    "crs": {\n        "type": "name",\n        "properties": {\n            "name": "urn:ogc:def:crs:EPSG::4326"\n        }\n    },\n    "bbox": [\n        -180,\n        -90,\n        180,\n        90\n    ]\n}\n'})})]}),"\n",(0,r.jsx)(n.h3,{id:"pagination",children:"Pagination"}),"\n",(0,r.jsxs)(n.p,{children:["let's get only part of the feature, using ",(0,r.jsx)(n.code,{children:"count"})," to mention the amount for paging, and ",(0,r.jsx)(n.code,{children:"startIndex"})," as the offset"]}),"\n",(0,r.jsx)(n.p,{children:"We'll invoke a POST GetFeature request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"<LAYER_PARTS_QUERY_SERVICE_URL>/wfs\n"})}),"\n",(0,r.jsx)(n.p,{children:"with the following body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<wfs:GetFeature service="WFS" version="2.0.0" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd" count="4" startIndex="3" outputFormat="application/json">\n    <wfs:Query typeNames="layer_parts:ORTHOPHOTO_BEST-OrthophotoBest">\n        <fes:Filter>\n            <fes:PropertyIsEqualTo>\n               <fes:ValueReference>productId</fes:ValueReference>\n               <fes:Literal>ORTHOPHOTO_BEST</fes:Literal>\n            </fes:PropertyIsEqualTo>\n\n        </fes:Filter>\n    </wfs:Query>\n</wfs:GetFeature>\n'})}),"\n",(0,r.jsxs)(o,{children:[(0,r.jsx)("summary",{children:"Response"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "type": "FeatureCollection",\n    "features": [\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.ce2c1c30-6f0f-46cf-a2d1-b14b52088ad0",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            35.3664,\n                            32.1381\n                        ],\n                        [\n                            35.1511,\n                            32.1381\n                        ],\n                        [\n                            35.1511,\n                            32.3249\n                        ],\n                        [\n                            35.3664,\n                            32.3249\n                        ],\n                        [\n                            35.3664,\n                            32.1381\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "ce2c1c30-6f0f-46cf-a2d1-b14b52088ad0",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_5_ORT_240115-11.1",\n                "sourceName": "O_ayosh_w84geo_Apr17-Jun22_gpkg_0.07",\n                "productVersion": "4.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2021-06-11T02:00:00Z",\n                "imagingTimeEndUtc": "2021-06-11T02:00:00Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.7,\n                "sourceResolutionMeter": 0.07,\n                "horizontalAccuracyCe90": 4,\n                "sensors": "OTHER",\n                "countries": "",\n                "cities": "",\n                "description": "some description"\n            },\n            "bbox": [\n                35.1511,\n                32.1381,\n                35.3664,\n                32.3249\n            ]\n        }\n    ],\n    "totalFeatures": 7,\n    "numberMatched": 7,\n    "numberReturned": 1,\n    "timeStamp": "2024-11-12T11:39:18.579Z",\n    "links": [\n        {\n            "title": "previous page",\n            "type": "application/json",\n            "rel": "previous",\n            "href": "https://layer-parts.mapcolonies.net/api/raster/v1/wfs?FILTER=%28%3Cfes%3AFilter%20xmlns%3Axs%3D%22http%3A%2F%2Fwww.w3.org%2F2001%2FXMLSchema%22%20xmlns%3Afes%3D%22http%3A%2F%2Fwww.opengis.net%2Ffes%2F2.0%22%20xmlns%3Agml%3D%22http%3A%2F%2Fwww.opengis.net%2Fgml%2F3.2%22%3E%3Cfes%3APropertyIsEqualTo%20matchAction%3D%22Any%22%20matchCase%3D%22true%22%3E%3Cfes%3AValueReference%3EproductId%3C%2Ffes%3AValueReference%3E%3Cfes%3ALiteral%3EORTHOPHOTO_BEST%3C%2Ffes%3ALiteral%3E%3C%2Ffes%3APropertyIsEqualTo%3E%3C%2Ffes%3AFilter%3E%29&REQUEST=GetFeature&RESULTTYPE=RESULTS&OUTPUTFORMAT=application%2Fjson&VERSION=2.0.0&TYPENAMES=%28layer_parts%3AORTHOPHOTO_BEST-OrthophotoBest%29&SERVICE=WFS&COUNT=3&STARTINDEX=0"\n        }\n    ],\n    "crs": {\n        "type": "name",\n        "properties": {\n            "name": "urn:ogc:def:crs:EPSG::4326"\n        }\n    },\n    "bbox": [\n        35.1511,\n        32.1381,\n        35.3664,\n        32.3249\n    ]\n}\n'})})]}),"\n",(0,r.jsx)(n.h3,{id:"sorting",children:"Sorting"}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["To get layer's layer parts features sorted by some property such as ",(0,r.jsx)(n.code,{children:"productVersion"})," we can invoke the following GET request."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"<LAYER_PARTS_QUERY_SERVICE_URL>/wfs?\n    service=wfs&\n    version=2.0.0&\n    request=GetFeature&\n    typeNames=ORTHOPHOTO_BEST-OrthophotoBest&\n    sortBy=productVersion&\n    outputFormat=application/json\n"})}),"\n",(0,r.jsxs)(o,{children:[(0,r.jsx)("summary",{children:"Response"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "type": "FeatureCollection",\n    "features": [\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.30210f5d-ba98-480f-b13a-01705890eb8f",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            -180,\n                            90\n                        ],\n                        [\n                            180,\n                            90\n                        ],\n                        [\n                            180,\n                            -90\n                        ],\n                        [\n                            -180,\n                            -90\n                        ],\n                        [\n                            -180,\n                            90\n                        ]\n                    ],\n                    [\n                        [\n                            34.2117,\n                            31.4159\n                        ],\n                        [\n                            34.2117,\n                            31.2279\n                        ],\n                        [\n                            34.4294,\n                            31.2279\n                        ],\n                        [\n                            34.4294,\n                            31.4159\n                        ],\n                        [\n                            34.2117,\n                            31.4159\n                        ]\n                    ],\n                    [\n                        [\n                            34.6064,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.6234\n                        ]\n                    ],\n                    [\n                        [\n                            35.0607,\n                            32.1202\n                        ],\n                        [\n                            35.0607,\n                            31.9323\n                        ],\n                        [\n                            35.2784,\n                            31.9323\n                        ],\n                        [\n                            35.2784,\n                            32.1202\n                        ],\n                        [\n                            35.0607,\n                            32.1202\n                        ]\n                    ],\n                    [\n                        [\n                            35.1511,\n                            32.1381\n                        ],\n                        [\n                            35.3664,\n                            32.1381\n                        ],\n                        [\n                            35.3664,\n                            32.3249\n                        ],\n                        [\n                            35.1511,\n                            32.3249\n                        ],\n                        [\n                            35.1511,\n                            32.1381\n                        ]\n                    ],\n                    [\n                        [\n                            35.6989,\n                            33.7644\n                        ],\n                        [\n                            35.6989,\n                            33.5765\n                        ],\n                        [\n                            35.9166,\n                            33.5765\n                        ],\n                        [\n                            35.9166,\n                            33.7644\n                        ],\n                        [\n                            35.6989,\n                            33.7644\n                        ]\n                    ],\n                    [\n                        [\n                            35.7645,\n                            33.9586\n                        ],\n                        [\n                            35.7645,\n                            33.7706\n                        ],\n                        [\n                            35.9822,\n                            33.7706\n                        ],\n                        [\n                            35.9822,\n                            33.9586\n                        ],\n                        [\n                            35.7645,\n                            33.9586\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "30210f5d-ba98-480f-b13a-01705890eb8f",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "BlueMarble",\n                "sourceName": "O_BlueMarble_rgb_2km",\n                "productVersion": "1.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2001-01-01T05:00:00Z",\n                "imagingTimeEndUtc": "2001-01-01T05:00:00Z",\n                "resolutionDegree": 0.02197265625,\n                "resolutionMeter": 2000,\n                "sourceResolutionMeter": 2500,\n                "horizontalAccuracyCe90": 2000,\n                "sensors": "MAXAR",\n                "countries": "MEXICO",\n                "cities": "",\n                "description": ""\n            },\n            "bbox": [\n                -180,\n                -90,\n                180,\n                90\n            ]\n        },\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.d8017862-26a8-4747-a503-2096ffaf36ee",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            34.3887,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.4354\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "d8017862-26a8-4747-a503-2096ffaf36ee",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_6_ORT_247568-26.0",\n                "sourceName": "O_aza_w84geo_Tiff_10cm",\n                "productVersion": "2.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2022-08-20T23:08:10Z",\n                "imagingTimeEndUtc": "2022-08-20T23:08:10Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.6,\n                "sourceResolutionMeter": 0.1,\n                "horizontalAccuracyCe90": 1.5,\n                "sensors": "OTHER",\n                "countries": "POLAND",\n                "cities": "",\n                "description": "some description"\n            },\n            "bbox": [\n                34.3887,\n                31.4354,\n                34.6064,\n                31.6234\n            ]\n        },\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.ba8a77d6-e022-4922-9c87-0098e84f9bc9",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            34.2117,\n                            31.2279\n                        ],\n                        [\n                            34.4294,\n                            31.2279\n                        ],\n                        [\n                            34.4294,\n                            31.4159\n                        ],\n                        [\n                            34.2117,\n                            31.4159\n                        ],\n                        [\n                            34.2117,\n                            31.2279\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "ba8a77d6-e022-4922-9c87-0098e84f9bc9",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_6_ORT_247568-26.0",\n                "sourceName": "O_aza_w84geo_Tiff_10cm",\n                "productVersion": "3.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2021-05-15T23:09:00Z",\n                "imagingTimeEndUtc": "2021-05-15T23:09:00Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.6,\n                "sourceResolutionMeter": 0.1,\n                "horizontalAccuracyCe90": 0.6,\n                "sensors": "OTHER",\n                "countries": "FRANCE, SPAIN",\n                "cities": "",\n                "description": "some description"\n            },\n            "bbox": [\n                34.2117,\n                31.2279,\n                34.4294,\n                31.4159\n            ]\n        },\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.ce2c1c30-6f0f-46cf-a2d1-b14b52088ad0",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            35.3664,\n                            32.1381\n                        ],\n                        [\n                            35.1511,\n                            32.1381\n                        ],\n                        [\n                            35.1511,\n                            32.3249\n                        ],\n                        [\n                            35.3664,\n                            32.3249\n                        ],\n                        [\n                            35.3664,\n                            32.1381\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "ce2c1c30-6f0f-46cf-a2d1-b14b52088ad0",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_5_ORT_240115-11.1",\n                "sourceName": "O_ayosh_w84geo_Apr17-Jun22_gpkg_0.07",\n                "productVersion": "4.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2021-06-11T02:00:00Z",\n                "imagingTimeEndUtc": "2021-06-11T02:00:00Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.7,\n                "sourceResolutionMeter": 0.07,\n                "horizontalAccuracyCe90": 4,\n                "sensors": "OTHER",\n                "countries": "",\n                "cities": "",\n                "description": "some description"\n            },\n            "bbox": [\n                35.1511,\n                32.1381,\n                35.3664,\n                32.3249\n            ]\n        },\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.791358a5-a19b-4164-80cb-4408403f1ab2",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            35.2784,\n                            31.9323\n                        ],\n                        [\n                            35.0607,\n                            31.9323\n                        ],\n                        [\n                            35.0607,\n                            32.1202\n                        ],\n                        [\n                            35.2784,\n                            32.1202\n                        ],\n                        [\n                            35.2784,\n                            31.9323\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "791358a5-a19b-4164-80cb-4408403f1ab2",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_5_ORT_240115-11.2",\n                "sourceName": "O_ayosh_w84geo_Apr17-Jun22_gpkg_0.08",\n                "productVersion": "5.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2021-05-12T04:00:00Z",\n                "imagingTimeEndUtc": "2021-05-12T04:00:00Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.7,\n                "sourceResolutionMeter": 0.07,\n                "horizontalAccuracyCe90": 4,\n                "sensors": "OTHER",\n                "countries": "",\n                "cities": "",\n                "description": "some description"\n            },\n            "bbox": [\n                35.0607,\n                31.9323,\n                35.2784,\n                32.1202\n            ]\n        },\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.c87a6448-c9b8-42e5-8b94-5d988c1732be",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            35.9822,\n                            33.7706\n                        ],\n                        [\n                            35.7645,\n                            33.7706\n                        ],\n                        [\n                            35.7645,\n                            33.9586\n                        ],\n                        [\n                            35.9822,\n                            33.9586\n                        ],\n                        [\n                            35.9822,\n                            33.7706\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "c87a6448-c9b8-42e5-8b94-5d988c1732be",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_6_ORT_247268-6.0",\n                "sourceName": "O_lebnon_w84geo_rgb_Tiff_30cm",\n                "productVersion": "6.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2021-07-11T04:00:00Z",\n                "imagingTimeEndUtc": "2021-07-11T04:00:00Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.6,\n                "sourceResolutionMeter": 0.3,\n                "horizontalAccuracyCe90": 6,\n                "sensors": "WORLDVIEW2",\n                "countries": "LITHUANIA",\n                "cities": "",\n                "description": ""\n            },\n            "bbox": [\n                35.7645,\n                33.7706,\n                35.9822,\n                33.9586\n            ]\n        },\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.d1b24130-1b9c-4daa-aa23-093bb58b0814",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            35.9166,\n                            33.5765\n                        ],\n                        [\n                            35.6989,\n                            33.5765\n                        ],\n                        [\n                            35.6989,\n                            33.7644\n                        ],\n                        [\n                            35.9166,\n                            33.7644\n                        ],\n                        [\n                            35.9166,\n                            33.5765\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "d1b24130-1b9c-4daa-aa23-093bb58b0814",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_6_ORT_247268-6.0",\n                "sourceName": "O_lebnon_w84geo_rgb_Tiff_30cm",\n                "productVersion": "7.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2021-09-01T04:00:00Z",\n                "imagingTimeEndUtc": "2021-09-01T04:00:00Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.6,\n                "sourceResolutionMeter": 0.03,\n                "horizontalAccuracyCe90": 8.5,\n                "sensors": "OTHER",\n                "countries": "GREECE",\n                "cities": "",\n                "description": ""\n            },\n            "bbox": [\n                35.6989,\n                33.5765,\n                35.9166,\n                33.7644\n            ]\n        }\n    ],\n    "totalFeatures": 7,\n    "numberMatched": 7,\n    "numberReturned": 7,\n    "timeStamp": "2024-11-12T11:43:00.892Z",\n    "crs": {\n        "type": "name",\n        "properties": {\n            "name": "urn:ogc:def:crs:EPSG::4326"\n        }\n    },\n    "bbox": [\n        -180,\n        -90,\n        180,\n        90\n    ]\n}\n'})})]}),"\n",(0,r.jsx)(n.h3,{id:"query-by-geographical-limits",children:"Query by geographical limits"}),"\n",(0,r.jsxs)(n.p,{children:["For more complex criteria such as a set of multiple parameters or geographical intersections we should invoke a ",(0,r.jsx)(n.strong,{children:"POST"})," GetFetures request consisting the filter as a XML body."]}),"\n",(0,r.jsxs)(n.ol,{start:"3",children:["\n",(0,r.jsxs)(n.li,{children:["let's look for all the layer parts features that intersect in a polygon, one of the properties of a layer part feature is it's ",(0,r.jsx)(n.code,{children:"footprint"})," describing the layer part geography, we'll look by it by setting it as the request ",(0,r.jsx)(n.code,{children:"ValueReference"}),". We can specify the ",(0,r.jsx)(n.code,{children:"srsName"})," which is the coordinate reference system of the returned features in our case ",(0,r.jsx)(n.code,{children:"EPSG:4326"}),".\nthe polygon is a list of longitude-latitude pair coordinates."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"We'll invoke a POST GetFeature request with the following body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8" ?>\n<wfs:GetFeature xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:sf="http://www.openplans.org/spearfish" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" service="WFS" version="2.0.0" count="2" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd http://www.opengis.net/gml/3.2 http://schemas.opengis.net/gml/3.2.1/gml.xsd" outputFormat="application/json">\n    <wfs:Query typeNames="layer_parts:ORTHOPHOTO_BEST-OrthophotoBest">\n        <fes:Filter>\n            <fes:Intersects>\n                <fes:ValueReference>footprint</fes:ValueReference>\n                <gml:Polygon gml:id="polygon.1" srsName="http://www.opengis.net/gml/srs/epsg.xml#4326">\n                    <gml:exterior>\n                        <gml:LinearRing>\n                            <gml:posList>\n                                35.34244 32.2543 34.92215 32.2543 34.9221 31.8823 35.34244 31.8823 35.34244 32.2543\n                            </gml:posList>\n                        </gml:LinearRing>\n                    </gml:exterior>\n                </gml:Polygon>\n            </fes:Intersects>\n        </fes:Filter>\n    </wfs:Query>\n</wfs:GetFeature>\n'})}),"\n",(0,r.jsxs)(o,{children:[(0,r.jsx)("summary",{children:"Response"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "type": "FeatureCollection",\n    "features": [\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.30210f5d-ba98-480f-b13a-01705890eb8f",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            -180,\n                            90\n                        ],\n                        [\n                            180,\n                            90\n                        ],\n                        [\n                            180,\n                            -90\n                        ],\n                        [\n                            -180,\n                            -90\n                        ],\n                        [\n                            -180,\n                            90\n                        ]\n                    ],\n                    [\n                        [\n                            34.2117,\n                            31.4159\n                        ],\n                        [\n                            34.2117,\n                            31.2279\n                        ],\n                        [\n                            34.4294,\n                            31.2279\n                        ],\n                        [\n                            34.4294,\n                            31.4159\n                        ],\n                        [\n                            34.2117,\n                            31.4159\n                        ]\n                    ],\n                    [\n                        [\n                            34.6064,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.6234\n                        ],\n                        [\n                            34.3887,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.4354\n                        ],\n                        [\n                            34.6064,\n                            31.6234\n                        ]\n                    ],\n                    [\n                        [\n                            35.0607,\n                            32.1202\n                        ],\n                        [\n                            35.0607,\n                            31.9323\n                        ],\n                        [\n                            35.2784,\n                            31.9323\n                        ],\n                        [\n                            35.2784,\n                            32.1202\n                        ],\n                        [\n                            35.0607,\n                            32.1202\n                        ]\n                    ],\n                    [\n                        [\n                            35.1511,\n                            32.1381\n                        ],\n                        [\n                            35.3664,\n                            32.1381\n                        ],\n                        [\n                            35.3664,\n                            32.3249\n                        ],\n                        [\n                            35.1511,\n                            32.3249\n                        ],\n                        [\n                            35.1511,\n                            32.1381\n                        ]\n                    ],\n                    [\n                        [\n                            35.6989,\n                            33.7644\n                        ],\n                        [\n                            35.6989,\n                            33.5765\n                        ],\n                        [\n                            35.9166,\n                            33.5765\n                        ],\n                        [\n                            35.9166,\n                            33.7644\n                        ],\n                        [\n                            35.6989,\n                            33.7644\n                        ]\n                    ],\n                    [\n                        [\n                            35.7645,\n                            33.9586\n                        ],\n                        [\n                            35.7645,\n                            33.7706\n                        ],\n                        [\n                            35.9822,\n                            33.7706\n                        ],\n                        [\n                            35.9822,\n                            33.9586\n                        ],\n                        [\n                            35.7645,\n                            33.9586\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "30210f5d-ba98-480f-b13a-01705890eb8f",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "BlueMarble",\n                "sourceName": "O_BlueMarble_rgb_2km",\n                "productVersion": "1.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2001-01-01T05:00:00Z",\n                "imagingTimeEndUtc": "2001-01-01T05:00:00Z",\n                "resolutionDegree": 0.02197265625,\n                "resolutionMeter": 2000,\n                "sourceResolutionMeter": 2500,\n                "horizontalAccuracyCe90": 2000,\n                "sensors": "MAXAR",\n                "countries": "FRANCE",\n                "cities": "",\n                "description": ""\n            },\n            "bbox": [\n                -180,\n                -90,\n                180,\n                90\n            ]\n        },\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.ce2c1c30-6f0f-46cf-a2d1-b14b52088ad0",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            35.3664,\n                            32.1381\n                        ],\n                        [\n                            35.1511,\n                            32.1381\n                        ],\n                        [\n                            35.1511,\n                            32.3249\n                        ],\n                        [\n                            35.3664,\n                            32.3249\n                        ],\n                        [\n                            35.3664,\n                            32.1381\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "ce2c1c30-6f0f-46cf-a2d1-b14b52088ad0",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_5_ORT_240115-11.1",\n                "sourceName": "O_ayosh_w84geo_Apr17-Jun22_gpkg_0.07",\n                "productVersion": "4.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2021-06-11T02:00:00Z",\n                "imagingTimeEndUtc": "2021-06-11T02:00:00Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.7,\n                "sourceResolutionMeter": 0.07,\n                "horizontalAccuracyCe90": 4,\n                "sensors": "OTHER",\n                "countries": "UNITED STATES",\n                "cities": "",\n                "description": "some description"\n            },\n            "bbox": [\n                35.1511,\n                32.1381,\n                35.3664,\n                32.3249\n            ]\n        }\n    ],\n    "totalFeatures": 3,\n    "numberMatched": 3,\n    "numberReturned": 2,\n    "timeStamp": "2024-11-12T11:52:18.694Z",\n    "crs": {\n        "type": "name",\n        "properties": {\n            "name": "urn:ogc:def:crs:EPSG::4326"\n        }\n    },\n    "bbox": [\n        -180,\n        -90,\n        180,\n        90\n    ]\n}\n'})})]}),"\n",(0,r.jsx)(n.h3,{id:"combining-multiple-filters",children:"Combining multiple filters"}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsxs)(n.li,{children:["if we'd like to filter parts by a set of multiple parameters we'll achieve that by a ",(0,r.jsx)(n.code,{children:"GetFeature"})," ",(0,r.jsx)(n.strong,{children:"POST"})," request.\nSay we would like to retrieve only the layer parts who's ",(0,r.jsx)(n.code,{children:"resolutionDegree"})," is greater than ",(0,r.jsx)(n.strong,{children:"0.060"})," and their ",(0,r.jsx)(n.code,{children:"sensors"})," type is ",(0,r.jsx)(n.strong,{children:"other"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"We'll invoke a request with the following body:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="Query with 2 filters"',children:'<wfs:GetFeature service="WFS" version="2.0.0" xmlns:wfs="http://www.opengis.net/wfs/2.0" xmlns:fes="http://www.opengis.net/fes/2.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd" count="4" outputFormat="application/json">\n    <wfs:Query typeNames="layer_parts:ORTHOPHOTO_BEST-OrthophotoBest">\n        <fes:Filter>\n            <And>\n            <fes:PropertyIsEqualTo>\n               <fes:ValueReference>sensors</fes:ValueReference>\n               <fes:Literal>OTHER</fes:Literal>\n            </fes:PropertyIsEqualTo>\n                        <fes:PropertyIsGreaterThan>\n               <fes:ValueReference>resolutionMeter</fes:ValueReference>\n               <fes:Literal>0.06</fes:Literal>\n            </fes:PropertyIsGreaterThan>\n            </And>\n        </fes:Filter>\n    </wfs:Query>\n</wfs:GetFeature>\n'})}),"\n",(0,r.jsxs)(o,{children:[(0,r.jsx)("summary",{children:"Response"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "type": "FeatureCollection",\n    "features": [\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.ce2c1c30-6f0f-46cf-a2d1-b14b52088ad0",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            35.3664,\n                            32.1381\n                        ],\n                        [\n                            35.1511,\n                            32.1381\n                        ],\n                        [\n                            35.1511,\n                            32.3249\n                        ],\n                        [\n                            35.3664,\n                            32.3249\n                        ],\n                        [\n                            35.3664,\n                            32.1381\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "ce2c1c30-6f0f-46cf-a2d1-b14b52088ad0",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_5_ORT_240115-11.1",\n                "sourceName": "O_ayosh_w84geo_Apr17-Jun22_gpkg_0.07",\n                "productVersion": "4.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2021-06-11T02:00:00Z",\n                "imagingTimeEndUtc": "2021-06-11T02:00:00Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.7,\n                "sourceResolutionMeter": 0.07,\n                "horizontalAccuracyCe90": 4,\n                "sensors": "OTHER",\n                "countries": "",\n                "cities": "",\n                "description": "some description"\n            },\n            "bbox": [\n                35.1511,\n                32.1381,\n                35.3664,\n                32.3249\n            ]\n        },\n        {\n            "type": "Feature",\n            "id": "ORTHOPHOTO_BEST-OrthophotoBest.791358a5-a19b-4164-80cb-4408403f1ab2",\n            "geometry": {\n                "type": "Polygon",\n                "coordinates": [\n                    [\n                        [\n                            35.2784,\n                            31.9323\n                        ],\n                        [\n                            35.0607,\n                            31.9323\n                        ],\n                        [\n                            35.0607,\n                            32.1202\n                        ],\n                        [\n                            35.2784,\n                            32.1202\n                        ],\n                        [\n                            35.2784,\n                            31.9323\n                        ]\n                    ]\n                ]\n            },\n            "geometry_name": "footprint",\n            "properties": {\n                "id": "791358a5-a19b-4164-80cb-4408403f1ab2",\n                "catalogId": "a1b6dd1c-c77c-42e6-a00a-306b67bcdebf",\n                "productId": "ORTHOPHOTO_BEST",\n                "productType": "OrthophotoBest",\n                "sourceId": "MAS_5_ORT_240115-11.2",\n                "sourceName": "O_ayosh_w84geo_Apr17-Jun22_gpkg_0.08",\n                "productVersion": "5.0",\n                "ingestionDateUtc": "2024-09-15T12:27:40.974Z",\n                "imagingTimeBeginUtc": "2021-05-12T04:00:00Z",\n                "imagingTimeEndUtc": "2021-05-12T04:00:00Z",\n                "resolutionDegree": 0.00000536441802978516,\n                "resolutionMeter": 0.7,\n                "sourceResolutionMeter": 0.07,\n                "horizontalAccuracyCe90": 4,\n                "sensors": "OTHER",\n                "countries": "",\n                "cities": "",\n                "description": ""\n            },\n            "bbox": [\n                35.0607,\n                31.9323,\n                35.2784,\n                32.1202\n            ]\n        }\n    ],\n    "totalFeatures": 2,\n    "numberMatched": 2,\n    "numberReturned": 2,\n    "timeStamp": "2024-11-12T11:54:38.023Z",\n    "crs": {\n        "type": "name",\n        "properties": {\n            "name": "urn:ogc:def:crs:EPSG::4326"\n        }\n    },\n    "bbox": [\n        35.0607,\n        31.9323,\n        35.3664,\n        32.3249\n    ]\n}\n'})})]}),"\n",(0,r.jsx)(n.h3,{id:"get-feature-count",children:"Get feature count"}),"\n",(0,r.jsxs)(n.p,{children:["By default, ",(0,r.jsx)(n.code,{children:"resultType"})," is set to ",(0,r.jsx)(n.code,{children:"results"}),". If a user wants to get the total number of parts in a feature, ",(0,r.jsx)(n.code,{children:"resultType=hits"})," should be used."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"numberMatched"})}),": Indicates how many hits (total parts amount) there are."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"next"})}),": Provides the link to fetch the response itself."]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{title:"Pagination",type:"warning",children:(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"The link does not include pagination parameters and will return all results for the layer. This should be avoided and either manually add the count parameter or make a separate request with pagination."})})}),"\n",(0,r.jsx)(n.p,{children:"Here\u2019s an example of GET request:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-plaintext",children:"<LAYER_PARTS_QUERY_SERVICE_URL>/wfs?\n    service=wfs&\n    version=2.0.0&\n    request=GetFeature&\n    typeNames=ORTHOPHOTO_BEST-OrthophotoBest&\n    resultType=hits\n"})}),"\n",(0,r.jsxs)(o,{children:[(0,r.jsx)("summary",{children:"Response"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<wfs:FeatureCollection \n  xmlns:xs="http://www.w3.org/2001/XMLSchema" \n  xmlns:fes="http://www.opengis.net/fes/2.0" \n  xmlns:wfs="http://www.opengis.net/wfs/2.0" \n  xmlns:gml="http://www.opengis.net/gml/3.2" \n  xmlns:ows="http://www.opengis.net/ows/1.1" \n  xmlns:xlink="http://www.w3.org/1999/xlink" \n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" \n  next="https://layer-parts-int/api/raster/v1/wfs?RESULTTYPE=results&REQUEST=GetFeature&OUTPUTFORMAT=application%2Fjson&VERSION=2.0.0&TYPENAMES=ORTHOPHOTO_BEST-OrthophotoBest&SERVICE=wfs&STARTINDEX=0" \n  numberMatched="21" \n  numberReturned="0" \n  timeStamp="2025-01-27T15:27:43.495Z" \n  xsi:schemaLocation="http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd"/>\n'})})]})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},26089:(e,n,t)=>{t.d(n,{A:()=>r});const r=t.p+"assets/images/layer_parts_example-a30ce3c16dfce62c32721cbc76d1bf86.png"},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var r=t(96540);const s={},o=r.createContext(s);function a(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);